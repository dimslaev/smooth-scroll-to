<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Scrol To</title>
    <link href="style.css" rel="stylesheet" />
    <script src="scrollTo.js"></script>
  </head>
  <body>
    <div id="options" class="options">
      <div class="form-group">
        <label class="form-label">Duration (ms)</label>
        <select class="form-field" id="duration"></select>
      </div>
      <div class="form-group">
        <label class="form-label">Easing </label>
        <select class="form-field" id="easing"></select>
      </div>
      <div class="form-group">
        <label class="form-label">Callback</label>

        <div class="form-radio">
          <input id="callback-on" name="callback" type="radio" value="on" />
          <label for="callback-on">On</label>
        </div>

        <div class="form-radio">
          <input
            id="callback-off"
            name="callback"
            type="radio"
            value="off"
            checked
          />
          <label for="callback-off">Off</label>
        </div>
      </div>
    </div>
    <div id="page-1" class="page">
      <h1>Page 1</h1>
      <a href="#page-2" class="btn">Scroll to Page 2</a>
    </div>
    <div id="page-2" class="page">
      <h1>Page 2</h1>
      <a href="#page-3" class="btn">Scroll to Page 3</a>
    </div>
    <div id="page-3" class="page">
      <h1>Page 3</h1>
      <a href="#page-1" class="btn">Scroll to Page 1</a>
    </div>

    <script>
      window.onload = function() {
        "use strict";
        var EASINGS = {
          // no easing, no acceleration
          linear: t => t,
          easeIn: t => Math.pow(t, 5),
          easeOut: t => Math.pow(--t, 5) + 1,
          // accelerating from zero velocity
          easeInQuad: t => t * t,
          // decelerating to zero velocity
          easeOutQuad: t => t * (2 - t),
          // acceleration until halfway, then deceleration
          easeInOutQuad: t => (t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t),
          // accelerating from zero velocity
          easeInCubic: t => t * t * t,
          // decelerating to zero velocity
          easeOutCubic: t => --t * t * t + 1,
          // acceleration until halfway, then deceleration
          easeInOutCubic: t =>
            t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1,
          // accelerating from zero velocity
          easeInQuart: t => t * t * t * t,
          // decelerating to zero velocity
          easeOutQuart: t => 1 - --t * t * t * t,
          // acceleration until halfway, then deceleration
          easeInOutQuart: t =>
            t < 0.5 ? 8 * t * t * t * t : 1 - 8 * --t * t * t * t,
          // accelerating from zero velocity
          easeInQuint: t => t * t * t * t * t,
          // decelerating to zero velocity
          easeOutQuint: t => 1 + --t * t * t * t * t,
          // acceleration until halfway, then deceleration
          easeInOutQuint: t =>
            t < 0.5 ? 16 * t * t * t * t * t : 1 + 16 * --t * t * t * t * t,
        };
        var DURATIONS = [200, 300, 400, 500, 600, 700, 800, 900, 1000];

        var fieldDuration = document.querySelector("#duration");
        var fieldEasing = document.querySelector("#easing");
        var radioCallbackOn = document.querySelector("#callback-on");

        var easingsHTML = "";
        for (var i = 0; i < Object.keys(EASINGS).length; i++) {
          easingsHTML +=
            '<option value="' +
            Object.keys(EASINGS)[i] +
            '">' +
            Object.keys(EASINGS)[i] +
            "</option>";
        }
        fieldEasing.innerHTML = easingsHTML;

        var durationsHTML = "";
        for (var i = 0; i < DURATIONS.length; i++) {
          durationsHTML +=
            '<option value="' +
            DURATIONS[i] +
            '">' +
            DURATIONS[i] +
            "</option>";
        }
        fieldDuration.innerHTML = durationsHTML;

        document.addEventListener(
          "click",
          function(e) {
            var target = e.target.getAttribute("href");
            if (!target) return;

            var options = {
              duration: fieldDuration.value,
              easing: EASINGS[fieldEasing.value],
              callback: radioCallbackOn.checked
                ? function() {
                    alert("Scroll End");
                  }
                : null,
            };

            smoothScrollTo(
              target,
              options.duration,
              options.easing,
              options.callback,
            );
          },
          false,
        );
      };
    </script>
  </body>
</html>
